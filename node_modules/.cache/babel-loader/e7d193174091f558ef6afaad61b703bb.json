{"ast":null,"code":"var _jsxFileName = \"/Users/junsoopark/Desktop/project/Final Project/project4-captain_citizen/project4-captain_citizen-frontend/captain_citizen_america/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport Nav from './Nav/Nav';\nimport Home from './Home/Home';\nimport Login from './LogIn/LogIn';\nimport SignUp from './SignUp/SignUp';\nimport UserProfile from './UserProfile/UserProfile';\nimport { io } from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [userData, setUserData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  const [socket, setSocket] = useState(null);\n\n  const getUserData = async () => {\n    try {\n      const response = await axios.get('https://captain-citizen-america.herokuapp.com/users');\n      setUserData(response.data);\n      setIsLoading(false);\n    } catch (error) {\n      setIsError(true);\n    }\n  };\n\n  useEffect(() => {\n    getUserData();\n    setSocket(io(\"http://localhost:5000\"));\n  }, []);\n  useEffect;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [user, setUser] = useState(userData[2]);\n  const fakeUser = userData[2];\n  console.log(fakeUser);\n  const [loginForm, setLoginForm] = useState({\n    user_id: '',\n    password: ''\n  });\n\n  const handleLogin = e => {\n    setLoginForm({ ...loginForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const validateLogin = () => {\n    const userSignIn = userData.find(user => user.user_id === loginForm.user_id);\n\n    if (userSignIn.password === loginForm.password) {\n      console.log('welcome');\n      axios.put(`https://captain-citizen-america.herokuapp.com/users/${user.id}`, {\n        login: true\n      }).then(res => {\n        console.log(res.data);\n        setUser(res.data);\n      });\n    } else {\n      alert('The password you’ve entered is incorrect.');\n    }\n  };\n\n  const [signUpForm, setSignUpForm] = useState(null);\n\n  const handleSignUp = e => {\n    setSignUpForm({ ...signUpForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const createUser = () => {\n    axios.post('https://captain-citizen-america.herokuapp.com/users/', signUpForm).then(res => {\n      let oldArray = [...userData];\n      oldArray.push(res.data);\n      setUserData(oldArray);\n    });\n  };\n\n  console.log(userData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"nav\",\n      children: /*#__PURE__*/_jsxDEV(Nav, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/home\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            className: \"home\",\n            userData: userData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            className: \"login\",\n            handleLogin: handleLogin,\n            validateLogin: validateLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"sign-up\",\n          element: /*#__PURE__*/_jsxDEV(SignUp, {\n            handleSignUp: handleSignUp,\n            createUser: createUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"user-profile\",\n          element: /*#__PURE__*/_jsxDEV(UserProfile, {\n            fakeUser: fakeUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6uMN4PvMAGJnvJgtNkOJc1O1lxs=\", false, function () {\n  return [useNavigate, useLocation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","axios","Route","Routes","useLocation","useNavigate","Nav","Home","Login","SignUp","UserProfile","io","App","userData","setUserData","isLoading","setIsLoading","isError","setIsError","socket","setSocket","getUserData","response","get","data","error","navigate","location","user","setUser","fakeUser","console","log","loginForm","setLoginForm","user_id","password","handleLogin","e","target","name","value","validateLogin","userSignIn","find","put","id","login","then","res","alert","signUpForm","setSignUpForm","handleSignUp","createUser","post","oldArray","push"],"sources":["/Users/junsoopark/Desktop/project/Final Project/project4-captain_citizen/project4-captain_citizen-frontend/captain_citizen_america/src/App.js"],"sourcesContent":["import './App.css';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Route, Routes, useLocation, useNavigate } from 'react-router-dom';\nimport Nav from './Nav/Nav';\nimport Home from './Home/Home';\nimport Login from './LogIn/LogIn';\nimport SignUp from './SignUp/SignUp';\nimport UserProfile from './UserProfile/UserProfile';\nimport { io } from 'socket.io-client';\n\nfunction App() {\n\n  const [userData, setUserData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n  const [socket, setSocket] = useState(null);\n\n  const getUserData = async () => {\n    try {\n      const response = await axios.get('https://captain-citizen-america.herokuapp.com/users');\n      setUserData(response.data);\n      setIsLoading(false);\n    }\n    catch (error) {\n      setIsError(true);\n    }\n  }\n\n  useEffect(() => {\n    getUserData();\n    setSocket(io(\"http://localhost:5000\"));\n  }\n  , []);\n\n  useEffect\n\n  const navigate = useNavigate()\n  const location = useLocation();\n  \n  const [user, setUser] = useState(userData[2]);\n  const fakeUser = userData[2];\n  console.log(fakeUser);\n\n  const [loginForm, setLoginForm] = useState({\n    user_id: '',\n    password: '',\n  });\n\n  const handleLogin = (e) => {\n    setLoginForm({\n      ...loginForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const validateLogin = () => {\n\n    const userSignIn = userData.find(\n      (user) => user.user_id === loginForm.user_id\n    );\n    if (userSignIn.password === loginForm.password) {\n      console.log('welcome');\n      axios\n        .put(\n          `https://captain-citizen-america.herokuapp.com/users/${user.id}`,\n          {\n            login: true,\n          }\n        )\n        .then((res) => {\n          console.log(res.data);\n          setUser(res.data);\n        });\n    } else {\n      alert('The password you’ve entered is incorrect.');\n    }\n  };\n\n  const [signUpForm, setSignUpForm] = useState(null)\n\n  const handleSignUp = (e) => {\n    setSignUpForm({\n      ...signUpForm,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const createUser = () => {\n    axios\n      .post(\n        'https://captain-citizen-america.herokuapp.com/users/',\n        signUpForm\n      )\n      .then((res) => {\n        let oldArray = [...userData];\n        oldArray.push(res.data);\n        setUserData(oldArray);\n      });\n  };\n  \n  console.log(userData);\n\n  return (\n    <div className=\"App\">\n\n      <nav className='nav'>\n        <Nav user={user} />\n      </nav>\n\n      <main>\n        <Routes>\n          <Route \n            path=\"/home\" \n            element={\n            <Home className='home' userData={userData} />\n            } \n          />\n          <Route\n            path='/'\n            element={\n              <Login className='login' handleLogin={handleLogin} validateLogin={validateLogin} />\n            }\n          />\n          <Route\n            path='sign-up'\n            element={\n              <SignUp handleSignUp={handleSignUp} createUser={createUser} />\n            }\n          />\n          <Route\n            path='user-profile'\n            element={<UserProfile fakeUser={fakeUser}/>\n          }\n          />\n          </Routes>\n      </main>\n\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,WAAxB,EAAqCC,WAArC,QAAwD,kBAAxD;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,EAAT,QAAmB,kBAAnB;;;AAEA,SAASC,GAAT,GAAe;EAAA;;EAEb,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACiB,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACmB,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,IAAD,CAApC;;EAEA,MAAMqB,WAAW,GAAG,YAAY;IAC9B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,GAAN,CAAU,qDAAV,CAAvB;MACAT,WAAW,CAACQ,QAAQ,CAACE,IAAV,CAAX;MACAR,YAAY,CAAC,KAAD,CAAZ;IACD,CAJD,CAKA,OAAOS,KAAP,EAAc;MACZP,UAAU,CAAC,IAAD,CAAV;IACD;EACF,CATD;;EAWAnB,SAAS,CAAC,MAAM;IACdsB,WAAW;IACXD,SAAS,CAACT,EAAE,CAAC,uBAAD,CAAH,CAAT;EACD,CAHQ,EAIP,EAJO,CAAT;EAMAZ,SAAS;EAET,MAAM2B,QAAQ,GAAGrB,WAAW,EAA5B;EACA,MAAMsB,QAAQ,GAAGvB,WAAW,EAA5B;EAEA,MAAM,CAACwB,IAAD,EAAOC,OAAP,IAAkB7B,QAAQ,CAACa,QAAQ,CAAC,CAAD,CAAT,CAAhC;EACA,MAAMiB,QAAQ,GAAGjB,QAAQ,CAAC,CAAD,CAAzB;EACAkB,OAAO,CAACC,GAAR,CAAYF,QAAZ;EAEA,MAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BlC,QAAQ,CAAC;IACzCmC,OAAO,EAAE,EADgC;IAEzCC,QAAQ,EAAE;EAF+B,CAAD,CAA1C;;EAKA,MAAMC,WAAW,GAAIC,CAAD,IAAO;IACzBJ,YAAY,CAAC,EACX,GAAGD,SADQ;MAEX,CAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;IAFf,CAAD,CAAZ;EAID,CALD;;EAOA,MAAMC,aAAa,GAAG,MAAM;IAE1B,MAAMC,UAAU,GAAG9B,QAAQ,CAAC+B,IAAT,CAChBhB,IAAD,IAAUA,IAAI,CAACO,OAAL,KAAiBF,SAAS,CAACE,OADpB,CAAnB;;IAGA,IAAIQ,UAAU,CAACP,QAAX,KAAwBH,SAAS,CAACG,QAAtC,EAAgD;MAC9CL,OAAO,CAACC,GAAR,CAAY,SAAZ;MACA/B,KAAK,CACF4C,GADH,CAEK,uDAAsDjB,IAAI,CAACkB,EAAG,EAFnE,EAGI;QACEC,KAAK,EAAE;MADT,CAHJ,EAOGC,IAPH,CAOSC,GAAD,IAAS;QACblB,OAAO,CAACC,GAAR,CAAYiB,GAAG,CAACzB,IAAhB;QACAK,OAAO,CAACoB,GAAG,CAACzB,IAAL,CAAP;MACD,CAVH;IAWD,CAbD,MAaO;MACL0B,KAAK,CAAC,2CAAD,CAAL;IACD;EACF,CArBD;;EAuBA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BpD,QAAQ,CAAC,IAAD,CAA5C;;EAEA,MAAMqD,YAAY,GAAIf,CAAD,IAAO;IAC1Bc,aAAa,CAAC,EACZ,GAAGD,UADS;MAEZ,CAACb,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;IAFd,CAAD,CAAb;EAID,CALD;;EAOA,MAAMa,UAAU,GAAG,MAAM;IACvBrD,KAAK,CACFsD,IADH,CAEI,sDAFJ,EAGIJ,UAHJ,EAKGH,IALH,CAKSC,GAAD,IAAS;MACb,IAAIO,QAAQ,GAAG,CAAC,GAAG3C,QAAJ,CAAf;MACA2C,QAAQ,CAACC,IAAT,CAAcR,GAAG,CAACzB,IAAlB;MACAV,WAAW,CAAC0C,QAAD,CAAX;IACD,CATH;EAUD,CAXD;;EAaAzB,OAAO,CAACC,GAAR,CAAYnB,QAAZ;EAEA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBAEE;MAAK,SAAS,EAAC,KAAf;MAAA,uBACE,QAAC,GAAD;QAAK,IAAI,EAAEe;MAAX;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFF,eAME;MAAA,uBACE,QAAC,MAAD;QAAA,wBACE,QAAC,KAAD;UACE,IAAI,EAAC,OADP;UAEE,OAAO,eACP,QAAC,IAAD;YAAM,SAAS,EAAC,MAAhB;YAAuB,QAAQ,EAAEf;UAAjC;YAAA;YAAA;YAAA;UAAA;QAHF;UAAA;UAAA;UAAA;QAAA,QADF,eAOE,QAAC,KAAD;UACE,IAAI,EAAC,GADP;UAEE,OAAO,eACL,QAAC,KAAD;YAAO,SAAS,EAAC,OAAjB;YAAyB,WAAW,EAAEwB,WAAtC;YAAmD,aAAa,EAAEK;UAAlE;YAAA;YAAA;YAAA;UAAA;QAHJ;UAAA;UAAA;UAAA;QAAA,QAPF,eAaE,QAAC,KAAD;UACE,IAAI,EAAC,SADP;UAEE,OAAO,eACL,QAAC,MAAD;YAAQ,YAAY,EAAEW,YAAtB;YAAoC,UAAU,EAAEC;UAAhD;YAAA;YAAA;YAAA;UAAA;QAHJ;UAAA;UAAA;UAAA;QAAA,QAbF,eAmBE,QAAC,KAAD;UACE,IAAI,EAAC,cADP;UAEE,OAAO,eAAE,QAAC,WAAD;YAAa,QAAQ,EAAExB;UAAvB;YAAA;YAAA;YAAA;UAAA;QAFX;UAAA;UAAA;UAAA;QAAA,QAnBF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QANF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqCD;;GAjIQlB,G;UA0BUP,W,EACAD,W;;;KA3BVQ,G;AAmIT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}